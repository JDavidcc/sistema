<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Carreras</title>
  <script>
    // Función para manejar el error al obtener la lista de carreras
    function handleError(error) {
      console.error("Error al obtener la lista de carreras:", error);
      // Puedes agregar aquí código para mostrar un mensaje de error al usuario si lo deseas
    }

    // Lógica para obtener la lista de carreras desde el servidor
    fetch('/api/carreras')
      .then(response => {
        if (!response.ok) {
          throw new Error('Error al obtener la lista de carreras');
        }
        return response.json();
      })
      .then(carreras => {
        // Lógica para manejar la lista de carreras recibida
        const carrerasList = document.getElementById('carreras-list');
        carreras.forEach(carrera => {
          const listItem = document.createElement('li');
          listItem.textContent = carrera.nombre;
          carrerasList.appendChild(listItem);
        });
      })
      .catch(handleError); // Manejar cualquier error que ocurra durante la solicitud

      function irAlInicio() {
            window.location.href = "/";
        }

        function cerrarSesion() {
            fetch("/logout")
                .then(() => {
                    window.location.href = "/logout"; 
                })
                .catch((error) => {
                    console.error("Error al cerrar sesión:", error);
                });
        }

  </script>
</head>
<body>
  <h1>Lista de Carreras</h1>
  <ul id="carreras-list"></ul>

  <button onclick="irAlInicio()">Inicio</button>
  <button onclick="cerrarSesion()">Cerrar Sesión</button>

</body>
</html>
